  
/**  
 * @throws ExceptionInterface  
 * @throws DtoValidateException  
 * @throws ProducerSendException  
 */#[OA\Delete(  
    path: "/{productId}",  
    summary: "Remove one or more products from wishlist",  
    requestBody: new OA\RequestBody(  
        content: new OA\JsonContent(  
            type: "array",  
            items: new OA\Items(type: "integer")  
        )  
    ),  
    tags: ["Wishlist"],  
    parameters: [  
        new OA\Parameter(  
            name: "productId",  
            in: "path",  
            required: false,  
            schema: new OA\Schema(  
                type: "integer",  
                pattern: "\d+"  
            )  
        ),  
        new OA\Parameter(  
            name: "X-Visitor-Id",  
            in: "header",  
            schema: new OA\Schema(  
                type: "string"  
            )  
        ),  
    ],  
    responses: [  
        new OA\Response(  
            response: 204,  
            description: "Deleted"  
        ),  
        new OA\Response(ref: "#/components/responses/Unauthorized", response: 401),  
        new OA\Response(ref: "#/components/responses/Forbidden", response: 403),  
    ]  
)]  
#[Route(path: "/{productIds}", methods: ["DELETE"])]  
public function delete(string $productIds, WishlistService $service, Request $request): JsonResponse  
{  
    $ids = array_filter(  
        array_map('trim', explode(',', $productIds)),  
        fn($id) => ctype_digit($id)  
    );  
  
    if (empty($ids)) {  
        return $this->json(null, Response::HTTP_NO_CONTENT);  
    }  
  
    $service->deleteItems(  
        $this->getCustomerId(),  
        $this->getWebsiteId(),  
        $request->headers->get('x-visitor-id'),  
        array_map('intval', $ids)  
    );  
  
    return $this->json(null, Response::HTTP_NO_CONTENT);  
}